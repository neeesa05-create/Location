<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>Admin Login</title><script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script><style>@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');*,*:before,*:after{box-sizing:border-box}body{font-family:'Poppins',sans-serif;background:linear-gradient(180deg, #1f253d, #11131c);display:flex;justify-content:center;align-items:center;height:100vh;margin:0;padding:20px;color:#e0e0e0;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.container{background-color:transparent;padding:20px;width:100%;max-width:400px;display:flex;flex-direction:column;justify-content:center;height:100%}h1{text-align:center;color:#fff;font-weight:600;margin-bottom:50px;font-size:2rem;letter-spacing:1px}.input-group{margin-bottom:30px;position:relative}label{display:none}input{width:100%;padding:15px 10px;border-radius:0;border:none;border-bottom:2px solid #4a4e69;background-color:transparent;color:#e0e0e0;font-size:1.1rem;transition:all .3s ease}input::placeholder{color:#6a6f88}input:focus{outline:0;border-bottom-color:#e94560}button{width:100%;padding:18px;border:none;border-radius:12px;background:linear-gradient(90deg,#e94560,#ff6347);color:#fff;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease;letter-spacing:.5px;display:flex;align-items:center;justify-content:center;min-height:56px}button:hover{filter:brightness(1.1)}button:disabled{opacity:.7;cursor:not-allowed;transform:none;box-shadow:none}.button-loader{width:20px;height:20px;border:3px solid #fff;border-bottom-color:transparent;border-radius:50%;display:inline-block;animation:button-spin .75s linear infinite}@keyframes button-spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}#message{text-align:center;margin-top:20px;font-weight:500;font-size:1.1rem;min-height:24px}</style></head><body><div class="container"><h1>Admin Access</h1><form id="login-form"><div class="input-group"><input type="text" id="username" name="username" required placeholder="Username"></div><div class="input-group"><input type="password" id="password" name="password" required placeholder="Password"></div><button type="submit">Authenticate</button></form><p id="message"></p></div><script>let supabase;async function initApp(){try{const response=await fetch('/api/config');const config=await response.json();if(!config.supabaseUrl||!config.supabaseAnonKey)throw new Error("Config not loaded");supabase=window.supabase.createClient(config.supabaseUrl,config.supabaseAnonKey);const loginForm=document.getElementById('login-form');const messageDiv=document.getElementById('message');const submitBtn=loginForm.querySelector('button[type="submit"]');const originalBtnText=submitBtn.innerHTML;loginForm.addEventListener('submit',async(e)=>{e.preventDefault();submitBtn.disabled=true;submitBtn.innerHTML='<div class="button-loader"></div>';messageDiv.textContent='';const username=loginForm.username.value;const password=loginForm.password.value;const adminUser='Admin-doors';if(username!==adminUser){setTimeout(()=>{messageDiv.textContent='ACCESS DENIED.';messageDiv.style.color='#e94560';submitBtn.disabled=false;submitBtn.innerHTML=originalBtnText},1000);return}const{data,error}=await supabase.from('users').select('password').eq('username',adminUser).single();if(error||!data||data.password!==password){setTimeout(()=>{messageDiv.textContent='AUTHENTICATION FAILURE.';messageDiv.style.color='#e94560';submitBtn.disabled=false;submitBtn.innerHTML=originalBtnText},1000)}else{messageDiv.textContent='Access Granted';messageDiv.style.color='#32de84';localStorage.setItem('adminLoggedIn','true');setTimeout(()=>{window.location.href='admin.html'},1500)}})}catch(err){console.error("Failed to init app:",err);document.getElementById('message').textContent='Initialization Failed'}}initApp();</script></body></html>