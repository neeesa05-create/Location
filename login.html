 <!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>Admin Login</title><script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script><style>@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');:root{--primary-accent:#6a11cb;--secondary-accent:#2575fc}*{box-sizing:border-box}body{font-family:'Poppins',sans-serif;background:linear-gradient(160deg,#0f0c29 0%,#302b63 50%,#24243e 100%);display:flex;justify-content:center;align-items:center;height:100vh;margin:0;padding:20px;color:#f0f0f0;user-select:none;-webkit-user-select:none}.container{background:rgba(255,255,255,.05);border-radius:20px;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);padding:40px 30px;width:100%;max-width:400px;text-align:center;animation:fadeIn .8s ease-out}@keyframes fadeIn{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}h1{font-weight:700;margin-bottom:40px;font-size:2rem;letter-spacing:1px}.input-group{margin-bottom:30px;position:relative}input{width:100%;padding:15px 10px;border:none;border-bottom:2px solid rgba(255,255,255,.2);background-color:transparent;color:#f0f0f0;font-size:1.1rem;transition:all .3s ease}input::placeholder{color:rgba(255,255,255,.4)}input:focus{outline:0;border-bottom-color:var(--primary-accent)}button{width:100%;padding:18px;border:none;border-radius:12px;background:linear-gradient(90deg,var(--primary-accent),var(--secondary-accent));color:#fff;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease;letter-spacing:.5px;display:flex;align-items:center;justify-content:center;min-height:56px}button:hover{transform:translateY(-3px);box-shadow:0 10px 20px rgba(0,0,0,.2)}button:disabled{opacity:.7;cursor:not-allowed;transform:none;box-shadow:none}.button-loader{width:20px;height:20px;border:3px solid #fff;border-bottom-color:transparent;border-radius:50%;display:inline-block;animation:button-spin .75s linear infinite}@keyframes button-spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}#message{text-align:center;margin-top:20px;font-weight:600;font-size:1rem;min-height:24px}</style></head><body><div class="container"><h1>Admin Access</h1><form id="login-form"><div class="input-group"><input type="text" id="username" name="username" required placeholder="Username"></div><div class="input-group"><input type="password" id="password" name="password" required placeholder="Password"></div><button type="submit">Authenticate</button></form><p id="message"></p></div><script>let supabase;async function initApp(){try{const response=await fetch("/api/config");const config=await response.json();if(!config.supabaseUrl||!config.supabaseAnonKey)throw new Error("Config not loaded");supabase=window.supabase.createClient(config.supabaseUrl,config.supabaseAnonKey);const loginForm=document.getElementById("login-form");const messageDiv=document.getElementById("message");const submitBtn=loginForm.querySelector('button[type="submit"]');const originalBtnText=submitBtn.innerHTML;loginForm.addEventListener("submit",async e=>{e.preventDefault();submitBtn.disabled=true;submitBtn.innerHTML='<div class="button-loader"></div>';messageDiv.textContent="";const username=loginForm.username.value;const password=loginForm.password.value;const adminUser="Admin-doors";if(username!==adminUser){setTimeout(()=>{messageDiv.textContent="ACCESS DENIED.";messageDiv.style.color="#e94560";submitBtn.disabled=false;submitBtn.innerHTML=originalBtnText},1e3);return}const{data,error}=await supabase.from("users").select("password").eq("username",adminUser).single();if(error||!data||data.password!==password){setTimeout(()=>{messageDiv.textContent="AUTHENTICATION FAILURE.";messageDiv.style.color="#e94560";submitBtn.disabled=false;submitBtn.innerHTML=originalBtnText},1e3)}else{messageDiv.textContent="Access Granted";messageDiv.style.color="#32de84";localStorage.setItem("adminLoggedIn","true");setTimeout(()=>{window.location.href="admin.html"},1500)}})}catch(err){console.error("Failed to init app:",err);document.getElementById("message").textContent="Initialization Failed"}}initApp();</script></body></html> 
