 <!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>Welcome - Live Tracker</title><script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script><style>@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');:root{--primary-accent:#6a11cb;--secondary-accent:#2575fc;--text-light:#f0f0f0;--text-dark:#333;--disabled-color:#555}*{box-sizing:border-box;margin:0;padding:0}body{font-family:'Poppins',sans-serif;background:linear-gradient(160deg,#0f0c29 0%,#302b63 50%,#24243e 100%);color:var(--text-light);display:flex;justify-content:center;align-items:center;height:100vh;padding:20px;user-select:none;-webkit-user-select:none}.container{text-align:center;padding:40px 30px;background:rgba(255,255,255,.05);border-radius:20px;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);max-width:400px;width:100%;display:flex;flex-direction:column;align-items:center;animation:fadeIn .8s ease-out}@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.logo{width:80px;height:80px;margin-bottom:25px;filter:drop-shadow(0 0 15px rgba(138,43,226,.6))}h1{font-size:2.2rem;font-weight:700;margin-bottom:10px}p{font-size:1rem;color:#b0b0b0;margin-bottom:40px}#google-btn{display:flex;align-items:center;justify-content:center;width:100%;padding:15px;border-radius:12px;border:none;background-color:#fff;color:var(--text-dark);font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease;gap:12px}#google-btn:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 10px 20px rgba(0,0,0,.2)}#google-btn:disabled{background-color:var(--disabled-color);color:#999;cursor:not-allowed}.google-icon{width:24px;height:24px}.terms-container{display:flex;align-items:center;margin-top:25px;gap:10px}#terms-checkbox{width:18px;height:18px;accent-color:var(--primary-accent)}.terms-label{font-size:.8rem;color:#aaa;text-align:left}.terms-label a{color:#87CEEB;text-decoration:none;font-weight:600}.terms-label a:hover{text-decoration:underline}#toast-container{position:fixed;top:20px;right:20px;z-index:9999;display:flex;flex-direction:column;gap:10px}.toast{padding:15px 20px;border-radius:8px;color:#fff;box-shadow:0 5px 15px rgba(0,0,0,.3);display:flex;align-items:center;gap:10px;opacity:0;transform:translateX(100%);animation:toast-in .5s forwards}.toast.success{background:linear-gradient(90deg,#27ae60,#2ecc71)}.toast.error{background:linear-gradient(90deg,#c0392b,#e74c3c)}.toast-icon{font-size:1.5rem;font-weight:bold}@keyframes toast-in{to{opacity:1;transform:translateX(0)}}@keyframes toast-out{from{opacity:1;transform:translateX(0)}to{opacity:0;transform:translateX(100%)}}</style></head><body><div class="container"><svg class="logo" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 21C15.5 17.4 19 14.1764 19 10.2C19 6.22355 15.866 3 12 3C8.13401 3 5 6.22355 5 10.2C5 14.1764 8.5 17.4 12 21Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 12C13.1046 12 14 11.1046 14 10C14 8.89543 13.1046 8 12 8C10.8954 8 10 8.89543 10 10C10 11.1046 10.8954 12 12 12Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg><h1>Live Tracker</h1><p>Securely track and manage your devices.</p<button id="google-btn" disabled><svg class="google-icon" viewBox="0 0 48 48"><path fill="#FFC107" d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"></path><path fill="#FF3D00" d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"></path><path fill="#4CAF50" d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.223,0-9.657-3.356-11.303-8H6.306C9.656,35.663,16.318,40,24,40z"></path><path fill="#1976D2" d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571l6.19,5.238C42.01,35.637,44,30.138,44,24C44,22.659,43.862,21.35,43.611,20.083z"></path></svg> <span>Continue with Google</span></button><div class="terms-container"><input type="checkbox" id="terms-checkbox"><label for="terms-checkbox" class="terms-label"> By clicking the continue button you agree with our <a href="terms.html" target="_blank">Terms and conditions</a>, and our <a href="privacy.html" target="_blank">Privacy policy</a>.</label></div></div><div id="toast-container"></div><script>let supabase;const googleBtn=document.getElementById("google-btn");const termsCheckbox=document.getElementById("terms-checkbox");function showBanScreen(){document.body.innerHTML=`<style>body{font-family:'Poppins',sans-serif;background:linear-gradient(160deg,#0f0c29 0%,#302b63 50%,#24243e 100%);color:#f0f0f0;display:flex;justify-content:center;align-items:center;height:100vh;margin:0;padding:20px;user-select:none;-webkit-user-select:none;}.ban-container{text-align:center;padding:40px 30px;background:rgba(255,255,255,.05);border-radius:20px;backdrop-filter:blur(10px);border:1px solid rgba(231,76,60,.3);max-width:420px;width:100%;display:flex;flex-direction:column;align-items:center;animation:fadeIn .8s ease-out;box-shadow:0 0 25px rgba(231,76,60,.2)}@keyframes fadeIn{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.ban-icon-wrapper{width:80px;height:80px;border-radius:50%;background:linear-gradient(145deg,rgba(231,76,60,.1),rgba(192,57,43,.2));display:flex;justify-content:center;align-items:center;margin-bottom:30px;border:1px solid rgba(231,76,60,.4)}.ban-icon-wrapper svg{width:40px;height:40px;color:#e74c3c;filter:drop-shadow(0 0 10px rgba(231,76,60,.7))}.ban-container h1{font-size:2.2rem;font-weight:700;margin-bottom:15px;color:#e74c3c}.ban-container p{font-size:1rem;color:#a0a0a0;line-height:1.7;margin-bottom:0}</style><div class="ban-container"><div class="ban-icon-wrapper"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg></div><h1>Access Restricted</h1><p>Our security system has flagged this device due to a policy violation. Access to this service has been permanently revoked.</p></div>`;document.body.className=''}function getOrSetDeviceToken(){let token=localStorage.getItem('device_token');if(!token){token=crypto.randomUUID();localStorage.setItem('device_token',token)}return token}async function initApp(){try{const response=await fetch("/api/config");const config=await response.json();if(!config.supabaseUrl||!config.supabaseAnonKey){throw new Error("Config not loaded")}supabase=window.supabase.createClient(config.supabaseUrl,config.supabaseAnonKey);const deviceToken=getOrSetDeviceToken();const{data:bannedData}=await supabase.from('banned_tokens').select('token').eq('token',deviceToken).single();if(bannedData){showBanScreen();return}googleBtn.addEventListener("click",signInWithGoogle);termsCheckbox.addEventListener("change",toggleButtonState)}catch(err){console.error("Failed to init app:",err);showToast("Initialization Failed. Please try again later.","error")}}function toggleButtonState(){if(termsCheckbox.checked){googleBtn.disabled=false}else{googleBtn.disabled=true}}async function signInWithGoogle(){if(googleBtn.disabled)return;const{data,error}=await supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/loader.html"}});if(error){showToast(`Error: ${error.message}`,"error")}}function showToast(message,type="success"){const container=document.getElementById("toast-container");if(!container)return;const toast=document.createElement("div");toast.className=`toast ${type}`;const icon=type==="success"?"✓":"✗";toast.innerHTML=`<span class="toast-icon">${icon}</span><span>${message}</span>`;container.appendChild(toast);setTimeout(()=>{toast.style.animation="toast-out .5s forwards";setTimeout(()=>toast.remove(),500)},4e3)}document.addEventListener("DOMContentLoaded",initApp);</script></body></html> 
